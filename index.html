<!DOCTYPE html>
<html>
<head>
    <title>Gerador de Posts | Bazar das Meninas - UFMG</title>
    <style>
        .error {color: #FF0000;}
    </style>
</head>
<body>


    <?php
    // define variables and set to empty values
    $tipoErr = $campusErr = $turnoErr = $descErr = "";
    $tipo = $campus = $turno = $desc = "";

    if ($_SERVER["REQUEST_METHOD"] == "POST") {
        if (empty($_POST["tipo"])) {
          $tipoErr = "este é um campo obrigatório";
        } else {
          $tipo = test_input($_POST["tipo"]);
          // check if name only contains letters and whitespace
          //if (!preg_match("/^[a-zA-Z ]*$/",$name)) {
           // $nameErr = "Only letters and white space allowed";
          //}
        }

        if (empty($_POST["campus"])) {
          $campusErr = "este é um campo obrigatório";
        } else {
          $campus = test_input($_POST["campus"]);
          // check if e-mail address is well-formed
          //if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
            //$emailErr = "Invalid email format";
          //}
        }

        if (empty($_POST["turno"])) {
          $turnoErr = "este é um campo obrigatório";
        } else {
          $turno = test_input($_POST["turno"]);
          // check if name only contains letters and whitespace
          //if (!preg_match("/^[a-zA-Z ]*$/",$name)) {
           // $nameErr = "Only letters and white space allowed";
          //}
        }

        if (empty($_POST["desc"])) {
          $descErr = "este é um campo obrigatório";
        } else {
          $desc = test_input($_POST["desc"]);
          // check if e-mail address is well-formed
          //if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
            //$emailErr = "Invalid email format";
          //}
        }

     // if (empty($_POST["comment"])) {
        //$comment = "";
    //} else {
    //    $comment = test_input($_POST["comment"]);
      //}

      //if (empty($_POST["gender"])) {
    //    $genderErr = "Gender is required";
    //  } else {
        //$gender = test_input($_POST["gender"]);
      //}
    }

    function test_input($data) {
      $data = trim($data);
      $data = stripslashes($data);
      $data = htmlspecialchars($data);
      return $data;
    }
    ?>


<h2>Formulário para Geração de Post</h2>
<p><span class="error">* campos obrigatórios.</span></p>
<form action="<?php echo htmlspecialchars($_SERVER["PHP_SELF"]);?>" method="post">
  Qual o seu tipo de post?
  <input list="tipos" name="tipo">
  <datalist id="tipos">
      <option value="Venda">
      <option value="Compra">
      <option value="Doação">
  </datalist>
  <span class="error">* <?php echo $tipoErr;?></span>

  <br><br>

  Campus de Encontro:
  <input list="campi" name="campus">
  <datalist id="campi">
      <option value="Pampulha">
      <option value="Direito">
      <option value="Saúde">
      <option value="Arquitetura">
  </datalist>
  <span class="error">* <?php echo $campusErr;?></span>

  <br><br>

  Turno de Encontro:
  <input list="turnos" name="turno">
  <datalist id="turnos">
      <option value="Manhã">
      <option value="Tarde">
      <option value="Noite">
  </datalist>
  <span class="error">* <?php echo $turnoErr;?></span>

  <br><br>

  Descrição da(s) Peça(s): <textarea name="desc" rows="5" cols="40"> </textarea>
  <span class="error">* <?php echo $descErr;?></span>

  <br><br>

  <input type="submit" name="submit" value="Submit">
</form>

<?php
echo "<h2>Your Input:</h2>";
echo $tipo;
echo "<br>";
echo $campus;
echo "<br>";
echo $turno;
echo "<br>";
echo $desc;
echo "<br>";
?>

</body>
</html>
